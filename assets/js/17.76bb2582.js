(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{397:function(t,e,a){"use strict";a.r(e);var r=a(19),s=Object(r.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("项目中都要设置 404 页面，也就是当找不到这个路由时跳转的页面。React 中的404主要靠 Switch 组件来完成。")]),t._v(" "),a("h3",{attrs:{id:"switch组件的使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#switch组件的使用","aria-hidden":"true"}},[t._v("#")]),t._v(" Switch组件的使用")]),t._v(" "),a("p",[t._v("在index.js页面中，在引入路由的地方，我们加入Switch的引入。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("BrowserRouter "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Router "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Route "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Switch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-router-dom'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("编写404页面")])]),t._v(" "),a("p",[t._v("现在需要一个统一的404页面，这里在app文件夹下新建一个error.js文件。然后封装成组件，方便路由进行调用。")]),t._v(" "),a("p",[t._v("error.js")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("import React from 'react';\nexport default class error extends React.Component{\n    render(){\n        return(\n            <h2>404</h2>\n        );\n    }\n}\n")])])]),a("p",[t._v("在nav.js页面中加入一个不存在的链接NavLink，为的时让它在错误的时候能自动跳转到404页面上。")]),t._v(" "),a("p",[t._v("nav.js")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<NavLink to='/react' activeClassName='active'>404</NavLink>\n")])])]),a("p",[t._v("下面该主角Switch上场了，改写我们的index.js页面，改为下面的样子。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router , Route , Switch} from 'react-router-dom';\nimport Jspang from './jspang';\nimport Jspangb from './jspangb';\nimport Jspangc from './jspangc';\nimport Nav from './nav';\nimport Error from './error';\n \nReactDOM.render(\n    \n    <Router>\n        <div>\n         <Nav/>\n            <Switch>\n                <Route  exact  path=\"/\"  component={Jscomponent} />\n                <Route  path=\"/Jscomponentb\" component={Jscomponentb} />\n                <Route  path=\"/Jscomponentc\" component={Jscomponentc} />\n                <Route  component={Error} />\n            </Switch>\n            \n        </div>\n    </Router>,\n    document.getElementById(\"app\")\n);\n")])])]),a("p",[t._v("然后到浏览器中进行预览，你会看到当点击404链接时，因为链接地址是我们瞎写的，但是它跳到了error.js页面。")]),t._v(" "),a("p",[a("strong",[t._v("注意顺序：错误页面应该在最后面。")])]),t._v(" "),a("h3",{attrs:{id:""}},[a("a",{staticClass:"header-anchor",attrs:{href:"#","aria-hidden":"true"}},[t._v("#")])]),t._v(" "),a("h3",{attrs:{id:"redirect组件使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redirect组件使用","aria-hidden":"true"}},[t._v("#")]),t._v(" Redirect组件使用")]),t._v(" "),a("p",[t._v("有时候我们开发中希望在程序中根据业务逻辑进行跳转，或者一个链接点击后直接跳转到其它链接。这时候可以使用Redirect组件解决。")]),t._v(" "),a("p",[a("strong",[t._v("引入Redirect组件")])]),t._v(" "),a("p",[t._v("在index.js中引入Redirect组件")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("import {BrowserRouter as Router , Route , Switch ,Redirect} from 'react-router-dom';\n")])])]),a("p",[a("strong",[t._v("加入跳转链接")])]),t._v(" "),a("p",[t._v("在nav.js里加入一个准备跳转的链接，代码如下。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<NavLink to='/redirect' activeClassName='active'>Redirect</NavLink>\n")])])]),a("p",[t._v("这时候点击这个链接，会跳转到404页面，但是我们希望跳转到jspangb页面。")]),t._v(" "),a("p",[a("strong",[t._v("加入"),a("code",[t._v("<Redirect>")]),t._v("标签")])]),t._v(" "),a("p",[t._v("在index.js文件中，加入"),a("code",[t._v("<Redirect>")]),t._v("标签。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('<Redirect from="/redirect" to="/Jscomponentb" />\n')])])]),a("p",[t._v("from：表示来自于什么链接，也就是当链接是redirect时，我们触发跳转命令。")]),t._v(" "),a("p",[t._v("to：表示要跳转到的链接，这里是跳转到Jscomponentb的组件中。")]),t._v(" "),a("p",[t._v("写完后你可以在浏览器中查看这个跳转效果了。")]),t._v(" "),a("p",[t._v("总结:设置404和跳转都要先加入Switch的支持，在制作404时一定记得要把404的Route设置到所有路由的后边。跳转时使用Redirect标签，这个很容易实现。")])])},[],!1,null,null,null);e.default=s.exports}}]);